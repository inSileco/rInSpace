<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4.3 Import Shapefile data | R in Space - Custom mapping</title>
  <meta name="description" content="4.3 Import Shapefile data | R in Space - Custom mapping" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="4.3 Import Shapefile data | R in Space - Custom mapping" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4.3 Import Shapefile data | R in Space - Custom mapping" />
  
  
  

<meta name="author" content="David Beauchesne, Mari-Hélène, Nicolas Casajus, Kevin Caelles, Elliot Dreujou, Steve Vissault" />


<meta name="date" content="2023-02-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="import-spatial-data-from-.csv-file.html"/>
<link rel="next" href="import-geojson-file.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.6.1/htmlwidgets.js"></script>
<link href="libs/leaflet-1.3.1/leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-1.3.1/leaflet.js"></script>
<link href="libs/leafletfix-1.0.0/leafletfix.css" rel="stylesheet" />
<script src="libs/proj4-2.6.2/proj4.min.js"></script>
<script src="libs/Proj4Leaflet-1.0.1/proj4leaflet.js"></script>
<link href="libs/rstudio_leaflet-1.3.1/rstudio_leaflet.css" rel="stylesheet" />
<script src="libs/leaflet-binding-2.1.1/leaflet.js"></script>
<script src="libs/leaflet-providers-1.9.0/leaflet-providers_1.9.0.js"></script>
<script src="libs/leaflet-providers-plugin-2.1.1/leaflet-providers-plugin.js"></script>
<link href="libs/HomeButton-0.0.1/home-button.css" rel="stylesheet" />
<script src="libs/HomeButton-0.0.1/home-button.js"></script>
<script src="libs/HomeButton-0.0.1/easy-button-src.min.js"></script>
<script src="libs/clipboard-0.0.1/setClipboardText.js"></script>
<link href="libs/mapviewCSS-0.0.1/mapview-popup.css" rel="stylesheet" />
<link href="libs/mapviewCSS-0.0.1/mapview.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  background-color: #f8f8f8; }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/extra.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="#">R in Space</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="so-it-begins.html"><a href="so-it-begins.html"><i class="fa fa-check"></i><b>1.1</b> So it begins</a></li>
<li class="chapter" data-level="1.2" data-path="beginner-course.html"><a href="beginner-course.html"><i class="fa fa-check"></i><b>1.2</b> Beginner course</a></li>
<li class="chapter" data-level="1.3" data-path="advanced-course.html"><a href="advanced-course.html"><i class="fa fa-check"></i><b>1.3</b> Advanced course</a></li>
<li class="chapter" data-level="1.4" data-path="sessioninfo.html"><a href="sessioninfo.html"><i class="fa fa-check"></i><b>1.4</b> SessionInfo</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="useful-resources.html"><a href="useful-resources.html"><i class="fa fa-check"></i><b>2</b> Useful resources</a>
<ul>
<li class="chapter" data-level="2.1" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html"><i class="fa fa-check"></i><b>2.1</b> The mapping landscape has changed!</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#geographic-information-system-gis"><i class="fa fa-check"></i><b>2.1.1</b> Geographic Information System (GIS)</a></li>
<li class="chapter" data-level="2.1.2" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#web-mapping-tools"><i class="fa fa-check"></i><b>2.1.2</b> Web mapping tools</a></li>
<li class="chapter" data-level="2.1.3" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#specific-packages-of-various-programming-languages"><i class="fa fa-check"></i><b>2.1.3</b> Specific packages of various programming languages</a>
<ul>
<li class="chapter" data-level="2.1.3.1" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#cc-libraries"><i class="fa fa-check"></i><b>2.1.3.1</b> C/C++ libraries:</a></li>
<li class="chapter" data-level="2.1.3.2" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#javascript"><i class="fa fa-check"></i><b>2.1.3.2</b> JavaScript:</a></li>
<li class="chapter" data-level="2.1.3.3" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#julia-packages"><i class="fa fa-check"></i><b>2.1.3.3</b> Julia packages</a></li>
<li class="chapter" data-level="2.1.3.4" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#python-packages"><i class="fa fa-check"></i><b>2.1.3.4</b> Python packages</a></li>
</ul></li>
<li class="chapter" data-level="2.1.4" data-path="the-mapping-landscape-has-changed.html"><a href="the-mapping-landscape-has-changed.html#free-gis-data"><i class="fa fa-check"></i><b>2.1.4</b> Free GIS data</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="so-why-use-r-for-mapping.html"><a href="so-why-use-r-for-mapping.html"><i class="fa fa-check"></i><b>2.2</b> So… why use R for mapping?</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="about-spatial-data.html"><a href="about-spatial-data.html"><i class="fa fa-check"></i><b>3</b> About spatial data</a>
<ul>
<li class="chapter" data-level="3.1" data-path="vector-data.html"><a href="vector-data.html"><i class="fa fa-check"></i><b>3.1</b> Vector data</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="vector-data.html"><a href="vector-data.html#points-data"><i class="fa fa-check"></i><b>3.1.1</b> Points data</a></li>
<li class="chapter" data-level="3.1.2" data-path="vector-data.html"><a href="vector-data.html#lines-data"><i class="fa fa-check"></i><b>3.1.2</b> Lines data</a></li>
<li class="chapter" data-level="3.1.3" data-path="vector-data.html"><a href="vector-data.html#polygons-data"><i class="fa fa-check"></i><b>3.1.3</b> Polygons data</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="raster-data.html"><a href="raster-data.html"><i class="fa fa-check"></i><b>3.2</b> Raster data</a></li>
<li class="chapter" data-level="3.3" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html"><i class="fa fa-check"></i><b>3.3</b> Vector objects in R</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#package-sp"><i class="fa fa-check"></i><b>3.3.1</b> Package <code>sp</code></a>
<ul>
<li class="chapter" data-level="3.3.1.1" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#classes"><i class="fa fa-check"></i><b>3.3.1.1</b> Classes</a></li>
<li class="chapter" data-level="3.3.1.2" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#spatialpointsdataframe"><i class="fa fa-check"></i><b>3.3.1.2</b> <code>SpatialPointsDataFrame</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3.2" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#package-sf"><i class="fa fa-check"></i><b>3.3.2</b> Package <code>sf</code></a>
<ul>
<li class="chapter" data-level="3.3.2.1" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#class-sf"><i class="fa fa-check"></i><b>3.3.2.1</b> Class <code>sf</code></a></li>
<li class="chapter" data-level="3.3.2.2" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#class-sfc"><i class="fa fa-check"></i><b>3.3.2.2</b> Class <code>sfc</code></a></li>
<li class="chapter" data-level="3.3.2.3" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#class-sfg"><i class="fa fa-check"></i><b>3.3.2.3</b> Class <code>sfg</code></a></li>
<li class="chapter" data-level="3.3.2.4" data-path="vector-objects-in-r.html"><a href="vector-objects-in-r.html#how-to-import-a-sp-object"><i class="fa fa-check"></i><b>3.3.2.4</b> How to import a <code>sp</code> object</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="raster-objects-in-r.html"><a href="raster-objects-in-r.html"><i class="fa fa-check"></i><b>3.4</b> Raster objects in R</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="raster-objects-in-r.html"><a href="raster-objects-in-r.html#rasterlayer"><i class="fa fa-check"></i><b>3.4.1</b> RasterLayer</a></li>
<li class="chapter" data-level="3.4.2" data-path="raster-objects-in-r.html"><a href="raster-objects-in-r.html#rasterstack-and-rasterbrick"><i class="fa fa-check"></i><b>3.4.2</b> RasterStack and RasterBrick</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="import-spatial-objects.html"><a href="import-spatial-objects.html"><i class="fa fa-check"></i><b>4</b> Import spatial objects</a>
<ul>
<li class="chapter" data-level="4.1" data-path="reading-and-writing-spatial-objects-with-sf-and-raster.html"><a href="reading-and-writing-spatial-objects-with-sf-and-raster.html"><i class="fa fa-check"></i><b>4.1</b> Reading and writing spatial objects with <code>sf</code> and <code>raster</code></a></li>
<li class="chapter" data-level="4.2" data-path="import-spatial-data-from-.csv-file.html"><a href="import-spatial-data-from-.csv-file.html"><i class="fa fa-check"></i><b>4.2</b> Import spatial data from .csv file</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="import-spatial-data-from-.csv-file.html"><a href="import-spatial-data-from-.csv-file.html#convert-a-data-frame-to-simple-feature-objects"><i class="fa fa-check"></i><b>4.2.1</b> Convert a data frame to simple feature objects</a></li>
<li class="chapter" data-level="4.2.2" data-path="import-spatial-data-from-.csv-file.html"><a href="import-spatial-data-from-.csv-file.html#export-your-points-in-a-shapefile"><i class="fa fa-check"></i><b>4.2.2</b> Export your points in a Shapefile</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="import-shapefile-data.html"><a href="import-shapefile-data.html"><i class="fa fa-check"></i><b>4.3</b> Import Shapefile data</a></li>
<li class="chapter" data-level="4.4" data-path="import-geojson-file.html"><a href="import-geojson-file.html"><i class="fa fa-check"></i><b>4.4</b> Import GeoJSON file</a></li>
<li class="chapter" data-level="4.5" data-path="import-raster-data.html"><a href="import-raster-data.html"><i class="fa fa-check"></i><b>4.5</b> Import raster data</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-mapping.html"><a href="basic-mapping.html"><i class="fa fa-check"></i><b>5</b> Basic mapping</a>
<ul>
<li class="chapter" data-level="5.1" data-path="plot-methods-for-sp-objects.html"><a href="plot-methods-for-sp-objects.html"><i class="fa fa-check"></i><b>5.1</b> Plot methods for <code>sp</code> objects</a></li>
<li class="chapter" data-level="5.2" data-path="plot-methods-for-sf-objects.html"><a href="plot-methods-for-sf-objects.html"><i class="fa fa-check"></i><b>5.2</b> plot methods for <code>sf</code> objects</a></li>
<li class="chapter" data-level="5.3" data-path="plot-methods-for-raster-objects.html"><a href="plot-methods-for-raster-objects.html"><i class="fa fa-check"></i><b>5.3</b> plot methods for <code>raster</code> objects</a></li>
<li class="chapter" data-level="5.4" data-path="plotting-together-sf-and-raster-objects.html"><a href="plotting-together-sf-and-raster-objects.html"><i class="fa fa-check"></i><b>5.4</b> plotting together <code>sf</code> and <code>raster</code> objects</a></li>
<li class="chapter" data-level="5.5" data-path="package-mapview.html"><a href="package-mapview.html"><i class="fa fa-check"></i><b>5.5</b> Package <code>mapview</code></a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="attribute-manipulations.html"><a href="attribute-manipulations.html"><i class="fa fa-check"></i><b>6</b> Attribute manipulations</a>
<ul>
<li class="chapter" data-level="6.1" data-path="spatial-objects-attributes-manipulations.html"><a href="spatial-objects-attributes-manipulations.html"><i class="fa fa-check"></i><b>6.1</b> Spatial objects attributes manipulations</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="spatial-objects-attributes-manipulations.html"><a href="spatial-objects-attributes-manipulations.html#vector-objects"><i class="fa fa-check"></i><b>6.1.1</b> Vector objects</a></li>
<li class="chapter" data-level="6.1.2" data-path="spatial-objects-attributes-manipulations.html"><a href="spatial-objects-attributes-manipulations.html#adding-and-removing-attributes"><i class="fa fa-check"></i><b>6.1.2</b> Adding and removing attributes</a></li>
<li class="chapter" data-level="6.1.3" data-path="spatial-objects-attributes-manipulations.html"><a href="spatial-objects-attributes-manipulations.html#subsets"><i class="fa fa-check"></i><b>6.1.3</b> Subsets</a></li>
<li class="chapter" data-level="6.1.4" data-path="spatial-objects-attributes-manipulations.html"><a href="spatial-objects-attributes-manipulations.html#join"><i class="fa fa-check"></i><b>6.1.4</b> Join</a></li>
<li class="chapter" data-level="6.1.5" data-path="spatial-objects-attributes-manipulations.html"><a href="spatial-objects-attributes-manipulations.html#aggregate"><i class="fa fa-check"></i><b>6.1.5</b> Aggregate</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="geometry-manipulation.html"><a href="geometry-manipulation.html"><i class="fa fa-check"></i><b>7</b> Geometry manipulation</a>
<ul>
<li class="chapter" data-level="7.1" data-path="sp-objects.html"><a href="sp-objects.html"><i class="fa fa-check"></i><b>7.1</b> <code>sp</code> objects</a>
<ul>
<li class="chapter" data-level="7.1.1" data-path="sp-objects.html"><a href="sp-objects.html#subset"><i class="fa fa-check"></i><b>7.1.1</b> Subset</a></li>
<li class="chapter" data-level="7.1.2" data-path="sp-objects.html"><a href="sp-objects.html#unions"><i class="fa fa-check"></i><b>7.1.2</b> Unions</a></li>
<li class="chapter" data-level="7.1.3" data-path="sp-objects.html"><a href="sp-objects.html#buffers"><i class="fa fa-check"></i><b>7.1.3</b> Buffers</a></li>
<li class="chapter" data-level="7.1.4" data-path="sp-objects.html"><a href="sp-objects.html#intersections"><i class="fa fa-check"></i><b>7.1.4</b> Intersections</a></li>
<li class="chapter" data-level="7.1.5" data-path="sp-objects.html"><a href="sp-objects.html#differences"><i class="fa fa-check"></i><b>7.1.5</b> Differences</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="overlays.html"><a href="overlays.html"><i class="fa fa-check"></i><b>7.2</b> Overlays</a></li>
<li class="chapter" data-level="7.3" data-path="sf-objects.html"><a href="sf-objects.html"><i class="fa fa-check"></i><b>7.3</b> <code>sf</code> objects</a></li>
<li class="chapter" data-level="7.4" data-path="raster-objects.html"><a href="raster-objects.html"><i class="fa fa-check"></i><b>7.4</b> <code>raster</code> objects</a>
<ul>
<li class="chapter" data-level="7.4.1" data-path="raster-objects.html"><a href="raster-objects.html#extract-values"><i class="fa fa-check"></i><b>7.4.1</b> Extract values</a></li>
<li class="chapter" data-level="7.4.2" data-path="raster-objects.html"><a href="raster-objects.html#mask"><i class="fa fa-check"></i><b>7.4.2</b> Mask</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="r-data-resources.html"><a href="r-data-resources.html"><i class="fa fa-check"></i><b>8</b> R data resources</a>
<ul>
<li class="chapter" data-level="8.1" data-path="environmental-data.html"><a href="environmental-data.html"><i class="fa fa-check"></i><b>8.1</b> Environmental data</a>
<ul>
<li class="chapter" data-level="8.1.1" data-path="environmental-data.html"><a href="environmental-data.html#abiotic-data"><i class="fa fa-check"></i><b>8.1.1</b> Abiotic data</a></li>
<li class="chapter" data-level="8.1.2" data-path="environmental-data.html"><a href="environmental-data.html#biotic-data"><i class="fa fa-check"></i><b>8.1.2</b> Biotic data</a></li>
<li class="chapter" data-level="8.1.3" data-path="environmental-data.html"><a href="environmental-data.html#base-maps"><i class="fa fa-check"></i><b>8.1.3</b> Base maps</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="custom-mapping.html"><a href="custom-mapping.html"><i class="fa fa-check"></i><b>9</b> Custom mapping</a>
<ul>
<li class="chapter" data-level="9.1" data-path="creating-a-thematic-map.html"><a href="creating-a-thematic-map.html"><i class="fa fa-check"></i><b>9.1</b> Creating a thematic map</a></li>
<li class="chapter" data-level="9.2" data-path="add-a-temperature-raster.html"><a href="add-a-temperature-raster.html"><i class="fa fa-check"></i><b>9.2</b> Add a temperature raster</a></li>
<li class="chapter" data-level="9.3" data-path="crop-and-mask-the-temperature-raster-using-quebec-boundary..html"><a href="crop-and-mask-the-temperature-raster-using-quebec-boundary..html"><i class="fa fa-check"></i><b>9.3</b> Crop and mask the temperature raster using quebec boundary.</a></li>
<li class="chapter" data-level="9.4" data-path="creating-a-simple-layout.html"><a href="creating-a-simple-layout.html"><i class="fa fa-check"></i><b>9.4</b> Creating a simple layout</a></li>
<li class="chapter" data-level="9.5" data-path="examples-of-complex-layouts.html"><a href="examples-of-complex-layouts.html"><i class="fa fa-check"></i><b>9.5</b> Examples of complex layouts</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="examples-of-complex-layouts.html"><a href="examples-of-complex-layouts.html#setting-data-and-parameters"><i class="fa fa-check"></i><b>9.5.1</b> Setting data and parameters</a></li>
<li class="chapter" data-level="9.5.2" data-path="examples-of-complex-layouts.html"><a href="examples-of-complex-layouts.html#first-example"><i class="fa fa-check"></i><b>9.5.2</b> First example</a></li>
<li class="chapter" data-level="9.5.3" data-path="examples-of-complex-layouts.html"><a href="examples-of-complex-layouts.html#second-example"><i class="fa fa-check"></i><b>9.5.3</b> Second example</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R in Space - Custom mapping</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="import-shapefile-data" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Import Shapefile data<a href="import-shapefile-data.html#import-shapefile-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The shapefile contains polygons delimiting the woods of the Montreal
agglomeration and information about the forest composition (found
<a href="http://donnees.ville.montreal.qc.ca/dataset/29791562-f050-401e-b405-5c1fbf427f65">here</a>).</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb52-1"><a href="import-shapefile-data.html#cb52-1"></a><span class="co"># Download shapefile from web page in your working directory</span></span>
<span id="cb52-2"><a href="import-shapefile-data.html#cb52-2"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">file.exists</span>(<span class="st">&quot;data/bois.dbf&quot;</span>)) {</span>
<span id="cb52-3"><a href="import-shapefile-data.html#cb52-3"></a>  <span class="fu">download.file</span>(<span class="st">&quot;https://data.montreal.ca/dataset/29791562-f050-401e-b405-5c1fbf427f65/resource/9fa20d3a-5dee-43d6-9bc9-5d86fe225e16/download/bois.zip&quot;</span>, <span class="at">destfile =</span> <span class="st">&quot;bois.zip&quot;</span>)</span>
<span id="cb52-4"><a href="import-shapefile-data.html#cb52-4"></a>  <span class="fu">unzip</span>(<span class="st">&quot;bois.zip&quot;</span>, <span class="at">exdir =</span> <span class="st">&quot;data&quot;</span>)</span>
<span id="cb52-5"><a href="import-shapefile-data.html#cb52-5"></a>  <span class="fu">unlink</span>(<span class="st">&quot;bois.zip&quot;</span>)</span>
<span id="cb52-6"><a href="import-shapefile-data.html#cb52-6"></a>}</span>
<span id="cb52-7"><a href="import-shapefile-data.html#cb52-7"></a></span>
<span id="cb52-8"><a href="import-shapefile-data.html#cb52-8"></a><span class="co"># Read shapefile in R</span></span>
<span id="cb52-9"><a href="import-shapefile-data.html#cb52-9"></a>bois <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">&quot;data&quot;</span>, <span class="at">layer =</span> <span class="st">&quot;bois&quot;</span>)</span></code></pre></div>
<pre><code>#R&gt;  Reading layer `bois&#39; from data source `/home/runner/work/rInSpace/rInSpace/data&#39; using driver `ESRI Shapefile&#39;
#R&gt;  Simple feature collection with 2716 features and 4 fields
#R&gt;  Geometry type: MULTIPOLYGON
#R&gt;  Dimension:     XY
#R&gt;  Bounding box:  xmin: -73.97557 ymin: 45.40957 xmax: -73.48204 ymax: 45.69943
#R&gt;  Geodetic CRS:  WGS 84</code></pre>
<div class="sourceCode" id="cb54"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb54-1"><a href="import-shapefile-data.html#cb54-1"></a><span class="fu">head</span>(bois)</span></code></pre></div>
<pre><code>#R&gt;  Simple feature collection with 6 features and 4 fields
#R&gt;  Geometry type: MULTIPOLYGON
#R&gt;  Dimension:     XY
#R&gt;  Bounding box:  xmin: -73.86056 ymin: 45.43293 xmax: -73.49655 ymax: 45.69584
#R&gt;  Geodetic CRS:  WGS 84
#R&gt;    OBJECTID GR_ESSENC Shape_Leng Shape_Area                       geometry
#R&gt;  1        2  Feuillus   515.4464   7199.995 MULTIPOLYGON (((-73.49961 4...
#R&gt;  2        3  Feuillus   364.7666   8354.159 MULTIPOLYGON (((-73.51461 4...
#R&gt;  3        5  Feuillus   134.2015   1139.293 MULTIPOLYGON (((-73.56527 4...
#R&gt;  4        6  Feuillus   336.2568   4222.548 MULTIPOLYGON (((-73.4967 45...
#R&gt;  5        8  Feuillus   510.9489   5168.669 MULTIPOLYGON (((-73.85932 4...
#R&gt;  6        9  Feuillus   605.2992  10936.294 MULTIPOLYGON (((-73.85413 4...</code></pre>
<p>The <code>bois</code> dataset has been turned into a <code>MULTIPOLYGON</code> object and has the same
CRS (EPSG: 4326) than the sample points we have manipulated above. This allows
us to work directly with the two objects otherwise we should have transformed
one dataset using the CRS of the other. To plot only the geometry and not all
attributes, we retrieve the geometry list-column using <code>st_geometry()</code>:</p>
<div class="sourceCode" id="cb56"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb56-1"><a href="import-shapefile-data.html#cb56-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(bois))</span></code></pre></div>
<p><img src="rInSpace_files/figure-html/plot_poly_geom-1.svg" width="672" /></p>
<p>To plot the polygons with a thematic color scale according to one attribute of
interest, we actually subset the object (here we use the name of the column):</p>
<div class="sourceCode" id="cb57"><pre class="sourceCode numberSource r numberLines"><code class="sourceCode r"><span id="cb57-1"><a href="import-shapefile-data.html#cb57-1"></a><span class="fu">plot</span>(bois[<span class="st">&quot;Shape_Area&quot;</span>])</span></code></pre></div>
<p><img src="rInSpace_files/figure-html/plot_poly_area-1.svg" width="672" /></p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="import-spatial-data-from-.csv-file.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="import-geojson-file.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["Cours_SpatialR.pdf", "pdf"]],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true,
"edit": "https://github.com/sci1031/sci1031/edit/master/%s"
}
});
});
</script>

</body>

</html>
